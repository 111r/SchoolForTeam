@{
    Layout = null;
}

@*<!DOCTYPE html>*@
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Neuton:wght@300;400;700&display=swap"
          rel="stylesheet" />
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/Content/WebsiteCss/css/style.css" />
    <style>

        #printT {
            border: 1px solid #ccc;
            padding: 20px;
            margin: 20px;
            width: 7.5in; 
            height: 280mm; /* Adjusted height to fit within A4 height */
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
           /* page-break-after: always;*/
        }
        /* Styles for the loader overlay */
        #loader-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
             height: 100%;
            height:auto;
            background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black */
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000; /* Make sure the overlay is on top */
        }

        .loader {
            border: 4px solid #f3f3f3; /* Light grey */
            border-top: 4px solid #3498db; /* Blue */
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 2s linear infinite;
        }

        @@keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        @@media print {
            #printT {
                page-break-after: auto; /* or avoid specifying page-break-after */
            }
        }
        
    </style>

</head>
<body>
    <div id="loader-overlay">
        <div class="loader"></div>
    </div>
    <button id="printButton">Print</button>
    <button id="ModifyData" onclick="DeleteExtraGradeRow();">Modify Data</button>
    @*&nbsp;&nbsp;<button id="downloadButton">Download</button>*@

    <div class="d-flex justify-content-center align-items-center h-100" id="JsonPrint">


        <div class="d-flex flex-column" id="printColumns">
            <div class="border border-dark mt-3" id="printT">
                <!-- Header section  -->
                <section class="d-flex justify-content-between align-items-center ">
                    <div class="schoollogo1" style="width: 21%">
                        <img src="data:image/jpeg;base64,@ViewBag.School_logo"
                             alt="notfound"
                             style="width: 120px; height: 80px; margin-bottom: 11px;" />
                    </div>
                    <div class="headerContent text-center " style="width:58%">
                        <div class="ft11 mb-0" style="font-size: 1.5rem; font-weight: bold;"><b>@ViewBag.SchoolNewName</b></div>

                        <p class="ft13 mb-0">
                            @ViewBag.newAddress
                        </p>


                        <div class="ft13"><b>Academic Session : @ViewBag.current_Year</b></div>
                        <div class="ft13"><b>Report Card</b></div>
                    </div>
                    <div class="schoollogo1 " style="width:21%">
                        <img src="~/Content/Images/logo3.png"
                             alt="notfound"
                             style="width: 120px; height: 103px;margin-left: 13px;" />
                        <span class="ft14">CISCE Affiliation No. : MP034</span>
                    </div>
                </section>
                <hr class="m-0" />

                <!-- students details  -->
                <section class="ft15 ps-1 my-1">
                    <div class="row">
                        <div class="col-4" style="width: 60%">
                            <span style="margin-right: 5px"><b> Student's Name</b></span>
                            <span class="text-uppercase">
                                : <span style="border-bottom: 1px dashed" id="StudentName"></span>
                            </span>
                        </div>

                        <div class="col-4" style="width: 40%">
                            <span><b>Class & Section</b></span>
                            <span class="text-uppercase">: <span style="border-bottom: 1px dashed" id="ClassSection"></span></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-4" style="width: 60%">
                            <span style="margin-right: 11px"><b>Father's Name</b> </span>
                            <span class="text-uppercase"> : <span style="border-bottom: 1px dashed" id="FatherName"></span> </span>
                        </div>

                        <div class="col-4" style="width: 40%">
                            <span style="margin-right: 16px"><b>Date of Birth</b></span>
                            <span class="text-uppercase">: <span style="border-bottom: 1px dashed" id="DateOfBirth"></span> </span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-8" style="width: 60%">
                            <span style="margin-right: 6px"><b>Mother's Name</b></span>
                            <span class="text-uppercase">: <span style="border-bottom: 1px dashed" id="MotherName"></span></span>
                        </div>
                        <div class="col-4" style="width: 40%">
                            <span style="margin-right: 27px"><b>Attendance</b></span>
                            <span class="text-uppercase">: <span style="border-bottom: 1px dashed" id="Attendance"></span></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-4" style="width: 60%">
                            <span style="margin-right: 44px"><b>Roll No.</b></span>
                            <span class="text-uppercase">: <span style="border-bottom: 1px dashed" id="RollNo"></span></span>
                        </div>
                        <div class="col-4" style="width: 40% ">
                            <span style="margin-right: 26px"><b>Scholar No.</b></span>
                            <span class="text-uppercase">: <span style="border-bottom: 1px dashed" id="ScholarNo"></span></span>
                        </div>
                    </div>
                </section>

                <!-- marks section  -->
                <table class="text-center my-2 ft15" id="MarksTable">
                    <tr>
                        <th style="width: 180px;">Scholastic Areas:</th>
                        <th colspan="3" scope="colgroup">Unit Test</th>
                        <th colspan="4" scope="colgroup">TERM-I</th>
                        <th colspan="4" scope="colgroup">TERM-II</th>
                        <th colspan="4" class="preBoardResult" scope="colgroup">PreBoard-I</th>
                        <th colspan="4" class="preBoardResult" scope="colgroup">PreBoard-II</th>
                        <th colspan="4" class="preBoardResult" scope="colgroup">Selection</th>
                        <th colspan="4" class="preBoardResult" scope="colgroup">Promotion</th>

                        <th colspan="2" scope="colgroup">Total</th>
                    </tr>
                    <tr>
                        <th scope="col">Subjects</th>

                        <th scope="col">UT I <span id="UT1MaxMarkTotal"></span></th>
                        <th scope="col">UT II <span id="UT2MaxMarkTotal"></span></th>
                        <th scope="col">Marks Obt.  <span id="UTTotalMaxMarkTotal"></span></th>

                        <th scope="col">Theory <span class="Term1TheoryMaxMarkTotal"></span></th>
                        <th scope="col">Practical <span id="Term1PracticalMaxMarkTotal"></span></th>
                        <th scope="col">Marks Obt. <span id="Term1TotalMaxMarkTotal"></span></th>
                        <th scope="col">Grade</th>

                        <th scope="col">Theory<span id="Term2TheoryMaxMarkTotal"></span></th>
                        <th scope="col">Practical <span id="Term2PracticalMaxMarkTotal"></span></th>
                        <th scope="col">Marks Obt. <span id="Term2TotalMaxMarkTotal"></span></th>
                        <th scope="col">Grade</th>

                        @*<th class="preBoardResult" scope="col">Theory<span id="PreBoard1TheoryMaxMarkTotal"></span></th>
                            <th class="preBoardResult" scope="col">Practical <span id="PreBoard1PracticalMaxMarkTotal"></span></th>
                            <th class="preBoardResult" scope="col">Marks Obt. <span id="PreBoard1TotalMaxMarkTotal"></span></th>
                            <th class="preBoardResult" scope="col">Grade</th>

                            <th class="preBoardResult" scope="col">Theory<span id="PreBoard2TheoryMaxMarkTotal"></span></th>
                            <th class="preBoardResult" scope="col">Practical <span id="PreBoard2PracticalMaxMarkTotal"></span></th>
                            <th class="preBoardResult" scope="col">Marks Obt. <span id="PreBoard2TotalMaxMarkTotal"></span></th>
                            <th class="preBoardResult" scope="col">Grade</th>


                            <th class="preBoardResult" scope="col">Theory<span id="SelectionTheoryMaxMarkTotal"></span></th>
                            <th class="preBoardResult" scope="col">Practical <span id="SelectionPracticalMaxMarkTotal"></span></th>
                            <th class="preBoardResult" scope="col">Marks Obt. <span id="SelectionTotalMaxMarkTotal"></span></th>
                            <th class="preBoardResult" scope="col">Grade</th>
                            <th class="preBoardResult" scope="col">Theory<span id="PromotionTheoryMaxMarkTotal"></span></th>
                            <th class="preBoardResult" scope="col">Practical <span id="PromotionPracticalMaxMarkTotal"></span></th>
                            <th class="preBoardResult" scope="col">Marks Obt. <span id="PromotionTotalMaxMarkTotal"></span></th>
                            <th class="preBoardResult" scope="col">Grade</th>*@


                        <th scope="col">Marks</th>
                        <th scope="col">Grade</th>
                    </tr>
                </table>

                <!-- UT marks section  -->
                <table class="text-center my-2 ft15" id="UnitRecord">
                    <tr>
                        <th style="width: 180px;">Scholastic Areas:</th>
                        <th colspan="2" scope="colgroup">Unit Test</th>
                    </tr>
                    <tr>
                        <th scope="col">Subjects</th>
                        <th scope="col">UT <span id="UnitName"></span> <span id="UTMaxMarkTotal"></span> </th>
                        <th scope="col">Grade</th>
                    </tr>
                </table>
                <!-- Terms marks section  -->
                <table class="text-center my-2 ft15" id="TermRecord">
                    <tr>
                        <th style="width: 180px;">Scholastic Areas:</th>
                        <th colspan="4" scope="colgroup">TERM-<span id="TermName"></span></th>
                    </tr>
                    <tr>
                        <th scope="col">Subjects</th>
                        <th scope="col">Theory <span class="Term1TheoryMaxMarkTotal"></span></th>
                        <th scope="col">Practical <span id="Term1TPracticalMaxMarkTotal"></span></th>
                        <th scope="col">Marks Obt. <span id="Term1TAllTotalMaxMarkTotal"></span></th>
                        <th scope="col">Grade</th>


                    </tr>
                </table>
                <!-- Pre Board marks section  -->
                <table class="text-center my-2 ft15" id="PreBoardRecord">
                    <tr>
                        <th style="width: 180px;">Scholastic Areas:</th>
                        <th colspan="4" scope="colgroup">Pre Board-<span id="PreBoardTermName"></span></th>
                    </tr>
                    <tr>
                        <th scope="col">Subjects</th>
                        <th scope="col">Theory <span class="PreBoardTheoryMaxMarkTotal"></span></th>
                        <th scope="col">Practical <span id="PreBoardTPracticalMaxMarkTotal"></span></th>
                        <th scope="col">Marks Obt. <span id="PreBoardTAllTotalMaxMarkTotal"></span></th>
                        <th scope="col">Grade</th>


                    </tr>
                </table>
                <table class="text-center my-2 ft15" id="SelectionRecords">

                    <tr>
                        <th style="width: 180px;">Scholastic Areas:</th>
                        <th colspan="2" scope="colgroup">Selection Test</th>
                    </tr>
                    <tr>
                        <th scope="col">Subjects</th>
                        <th scope="col">Theory <span class="SelectionNameTheoryMaxMarkTotal"></span></th>
                        <th scope="col">Practical <span id="SelectionNameTPracticalMaxMarkTotal"></span></th>
                        <th scope="col">Marks Obt. <span id="SelectionTAllTotalMaxMarkTotal"></span></th>
                        <th scope="col">Grade</th>
                    </tr>
                    @*<tr>
                            <th style="width: 180px;">Scholastic Areas:</th>
                            <th colspan="4" scope="colgroup">Selection<span id="SelectionName"></span></th>
                        </tr>
                        <tr>
                            <th scope="col">Subjects</th>
                            <th scope="col">Theory <span class="SelectionTheoryMaxMarkTotal"></span></th>
                            <th scope="col">Practical <span id="SelectionTPracticalMaxMarkTotal"></span></th>
                            <th scope="col">Marks Obt. <span id="SelectionTAllTotalMaxMarkTotal"></span></th>
                            <th scope="col">Grade</th>


                        </tr>*@
                </table>
                <table class="text-center my-2 ft15" id="PromotionRecords">
                    <tr>
                        <th style="width: 180px;">Scholastic Areas:</th>
                        <th colspan="4" scope="colgroup">Promotion<span id="PromotionName"></span></th>
                    </tr>
                    <tr>
                        <th scope="col">Subjects</th>
                        <th scope="col">Theory <span class="PromotionNameTheoryMaxMarkTotal"></span></th>
                        <th scope="col">Practical <span id="PromotionNameTPracticalMaxMarkTotal"></span></th>
                        <th scope="col">Marks Obt. <span id="PromotionTAllTotalMaxMarkTotal"></span></th>
                        <th scope="col">Grade</th>


                    </tr>
                </table>



                <!-- Grading scale  -->
                <table class="text-center ft15" id="coScholasticTable">
                    <tr>
                        <th colspan="6" scope="colgroup">
                            Co-Scholastic Areas [on a 4-point (A-NA) grading scale]
                        </th>
                    </tr>

                    <tr>
                        <th style="width: 300px;">Co-Scholastic Areas</th>
                        <th class="headerTermColumn headerUT1Column" style="width: 65px;">UT-I</th>
                        <th class="headerTermColumn headerUT2Column" style="width:65px;">UT-II</th>
                        <th class="headerTermColumn headerTerm1Column" style="width: 65px;">TERM-I</th>
                        <th class="headerTermColumn headerTerm2Column" style="width:65px;">TERM-II</th>
                        <th class="headerTermColumn headerPreBoard1Column preBoardResult" style="width:65px;">Pre Board-I</th>
                        <th class="headerTermColumn headerPreBoard2Column preBoardResult" style="width:65px;">Pre Board-II</th>


                        <th style="width: 300px;">Co-Scholastic Areas</th>
                        <th class="headerTermColumn headerUT1Column" style="width: 65px;">UT-I</th>
                        <th class="headerTermColumn headerUT2Column" style="width:65px;">UT-II</th>
                        <th class="headerTermColumn headerTerm1Column" style="width:65px;">TERM-I</th>
                        <th class="headerTermColumn headerTerm2Column" style="width:65px;">TERM-II</th>
                        <th class="headerTermColumn headerPreBoard1Column preBoardResult" style="width:65px;">Pre Board-I</th>
                        <th class="headerTermColumn headerPreBoard2Column preBoardResult" style="width:65px;">Pre Board-II</th>

                    </tr>


                </table>




                <!-- Result section  -->
                <div class="d-flex justify-content-between align-items-center px-1">
                    <div class="ft15">
                        <span><b>Result :</b></span>
                        <span id="result"></span>
                        <span id="RankInClass" style="font-weight:bold"></span>
                    </div>
                    <div class="ft15">
                        <span><b>Overall Grade :</b></span>
                        <span id="overallGrade"></span>
                    </div>
                </div>
                <div class="ft15 px-1" id="teacherRemark">
                    <span><b>Class Teacher's Remarks : </b></span>
                    <span><span id="teacherRemarkText"></span>  <span id="promotedClass"></span> </span>
                </div>
                <div class="ft15 px-1" id="UnitTestRemark">
                    <span><b>Class Teacher's Remarks : </b></span>
                    <span id="UnitTestRemarkText">. </span>
                </div>
                <!-- signature section  -->
                <div class="d-flex justify-content-between align-items-baseline px-3">
                    <div class="signature">
                        <img src="" alt="" />
                        <span class="ft15"><b>Parent / Guardian</b></span>
                    </div>
                    <div class="signature">
                        <img src="" id="teachersignature" style="width:115px; height:60px;" alt="" />
                        <span class="ft15"><b>Class Teacher</b></span>
                    </div>
                    <div class="signature">
                        <img src="~/Content/Images/principle.png" style="width:115px; height:60px;" alt="" />
                        <span class="ft15"><b>Principal</b></span>
                    </div>
                </div>

                <div class="ft15 px-1 mt-2">
                    <span><b>Grading scale for Scholastic Areas : </b></span>
                    <span>Grades are awarded on a 6-point grading scale as follows -</span>
                </div>

                <!-- marks range section  -->
                <table class="text-center ft15" id="GradingCriteria">
                    <tbody class="grate-tbody"></tbody>


                    @*<tr>
                            <th>Range (%)</th>
                            <td><span id="dgrade"></span></td>


                            @foreach (var item in ViewBag.gradingCriteria)
                            {
                                <td>@item.MinimumPercentage - @item.MaximumPercentage</td>
                            }
                            <td>32.5 - 49.4</td>
                                <td>49.5 - 64.4</td>
                                <td>64.5 - 74.4</td>
                                <td>74.5 - 89.4</td>
                                <td>89.5 - 100</td>
                        </tr>
                        <tr>
                            <th>Grade</th>
                            @foreach (var item in ViewBag.gradingCriteria)
                            {
                                <td>@item.Grade</td>
                            }
                            <td>D (Failed)</td>
                            <td>C</td>
                            <td>B</td>
                            <td>B+</td>
                            <td>A</td>
                            <td>A+</td>
                        </tr>*@
                    @*<tr>
                            <td colspan="7" scope="colgroup" class="text-start ps-1 ps-1">
                                <div class="ft15">
                                    4.
                                    N.B. There will be no second attempt for English Language and
                                    Literature. Second attempt is allowed for one subject provided
                                    the score is below 35.
                                </div>
                                <div class="ft15">Minimum mark for passing is 35.</div>
                                <div class="ft15">** It Indicates Improvement Exam.</div>
                            </td>
                        </tr>*@
                </table>
                <table class="text-center ft15" id="StaticGradingCriteria" style="display:none;">
                    <tr>
                        <th>Range (%)</th>
                        <td>34 & Below</td>
                        <td>35 - 49</td>
                        <td>50 - 64</td>
                        <td>65 - 74</td>
                        <td>75 - 89</td>
                        <td>90 - 100</td>
                    </tr>
                    <tr>
                        <th>Grade</th>
                        <td>D (Failed)</td>
                        <td>C</td>
                        <td>B</td>
                        <td>B+</td>
                        <td>A</td>
                        <td>A+</td>
                    </tr>

                    <tr>
                        <td colspan="7" scope="colgroup" class="text-start ps-1 ps-1">
                            <div class="ft15">
                                N.B. There will be no second attempt for English Language and
                                Literature. Second attempt is allowed for one subject provided
                                the score is below 35.
                            </div>
                            <div class="ft15">Minimum mark for passing is 35.</div>
                            <div class="ft15">** It Indicates Improvement Exam.</div>
                        </td>
                    </tr>
                </table>
                <!-- End  -->
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.0.slim.js" integrity="sha256-7GO+jepT9gJe9LB4XFf8snVOjX3iYNb0FHYr5LI1N5c=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="~/Scripts/DevelopmentJS/PrintReport.js"></script>
    @*<script src="~/Scripts/DevelopmentJS/PrintReportCBSEBoard.js"></script>*@
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script>
        // Function to handle the printing
        function printDiv() {
        debugger
            const printContent = document.getElementById("JsonPrint");
            const originalContent = document.body.innerHTML;

            document.body.innerHTML = printContent.outerHTML;
            window.print();

            document.body.innerHTML = originalContent;
        }

        // Attach click event to the 'Print' button
        const printButton = document.getElementById("printButton");
        printButton.addEventListener("click", printDiv);

    </script>
</body>

</html>
